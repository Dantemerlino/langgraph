<article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Advanced Data Lake</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Longitudinal Patient Record</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">LPR (FHIR) Data</span><meta itemprop="position" content="3"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">FHIR Schema and Specs</span><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">DiagnosticReport-Lab</span><meta itemprop="position" content="5"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>DiagnosticReport-Lab</h1></header><p>The findings and interpretation of diagnostic  tests performed on patients, groups of patients, devices, and locations, and/or specimens derived from these. The report includes clinical context such as requesting and provider information, and some mix of atomic results, images, textual and coded interpretations, and formatted representation of diagnostic reports.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="characteristics">Characteristics<a href="#characteristics" class="hash-link" aria-label="Direct link to Characteristics" title="Direct link to Characteristics">​</a></h2>
<table><thead><tr><th>Attribute</th><th>Value</th></tr></thead><tbody><tr><td>FHIR Version</td><td><a href="http://hl7.org/fhir/R4/diagnosticreport.html" target="_blank" rel="noopener noreferrer">R4 (4.0.1)</a></td></tr><tr><td>US Core Profile Id</td><td><a href="http://hl7.org/fhir/us/core/STU4/StructureDefinition-us-core-diagnosticreport-lab.html" target="_blank" rel="noopener noreferrer">us-core-diagnosticreport-lab (4.0.0)</a></td></tr><tr><td>Source System</td><td>Epic</td></tr><tr><td>Source Format</td><td>HL7v2</td></tr><tr><td>Epic Bridge ID</td><td>609300</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="notes">Notes<a href="#notes" class="hash-link" aria-label="Direct link to Notes" title="Direct link to Notes">​</a></h2>
<ul>
<li>The following common attributes are not supported for any nested elements unless explicitly included in the specification:<br><code>Element.id</code><br><code>Element.version</code><br><code>Element.userSelected</code><br><code>Element.extension[]</code></li>
<li><strong>Backload History:</strong>
<ul>
<li>Stage:
<ul>
<li>Latest full backload performed on 2024-03-26</li>
<li>Latest partial backload performed on 2024-06-10 (2023-01-01 to 2024-06-11)</li>
</ul>
</li>
<li>Production:
<ul>
<li>Latest full backload performed on 2024-05-09</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="supported-attributes">Supported Attributes<a href="#supported-attributes" class="hash-link" aria-label="Direct link to Supported Attributes" title="Direct link to Supported Attributes">​</a></h2>
<table><thead><tr><th>Attribute</th><th>Cardinality</th></tr></thead><tbody><tr><td><details><summary>basedOn[] </summary><div><div><dl><dt>Cardinality</dt><dd>0..1</dd><dt>Type</dt><dd>Reference</dd><dt>Inputs</dt><dd><ul><li>ORC-2.1</li></ul></dd><dt>Logic</dt><dd><ul><li>See child nodes for mapping</li><li>Only set if ORC-2.1 is not blank</li><li>See child attributes for additional mapping logic.</li></ul></dd></dl></div></div></details></td><td>Optional</td></tr><tr><td><details><summary>basedOn[].identifier </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>Identifier</dd><dt>Inputs</dt><dd><ul><li>ORC-2.1</li></ul></dd><dt>Logic</dt><dd><ul><li>See child attributes for details.</li><li>See child attributes for additional mapping logic.</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>basedOn[].identifier.value </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>string</dd><dt>Inputs</dt><dd><ul><li>ORC-2.1</li></ul></dd><dt>Notes</dt><dd><ul><li>A lab order initiated from Soft/RALS instead of entered in Epic will not trigger<br>an HL7 ORM message for a ServiceRequest. Because there is no data in the HL7<br>ORU message to indicate when this happens, this basedOn link is created anyway.</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>basedOn[].identifier.system </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>string</dd><dt>Logic</dt><dd><ul><li>Hard coded to constant value.</li></ul></dd><dt>Constant Value</dt><dd><ul><li>"<a href="http://terms.mayo.edu/mccfhir/systemid/epic/service_request_id&amp;#34" target="_blank" rel="noopener noreferrer">http://terms.mayo.edu/mccfhir/systemid/epic/service_request_id&amp;#34</a>;</li></ul></dd><dt>Notes</dt><dd><ul><li>A lab order initiated from Soft/RALS instead of entered in Epic will not trigger<br>an HL7 ORM message for a ServiceRequest. Because there is no data in the HL7<br>ORU message to indicate when this happens, this basedOn link is created anyway.</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>basedOn[].type </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>uri</dd><dt>Logic</dt><dd><ul><li>Hard coded to constant value.</li></ul></dd><dt>Constant Value</dt><dd><ul><li>"ServiceRequest"</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>category[a] </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>CodeableConcept</dd><dt>Logic</dt><dd><ul><li>See child nodes for mapping</li><li>See child attributes for additional mapping logic.</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>category[a].coding[] </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>Coding</dd><dt>Logic</dt><dd><ul><li>See child nodes for mapping</li><li>See child attributes for additional mapping logic.</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>category[a].coding[].code </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>code</dd><dt>Logic</dt><dd><ul><li>Hard coded to constant value.</li></ul></dd><dt>Constant Value</dt><dd><ul><li>"LAB"</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>category[a].coding[].system </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>uri</dd><dt>Logic</dt><dd><ul><li>Hard coded to constant value.</li></ul></dd><dt>Constant Value</dt><dd><ul><li>"<a href="http://terminology.hl7.org/CodeSystem/v2-0074&amp;#34" target="_blank" rel="noopener noreferrer">http://terminology.hl7.org/CodeSystem/v2-0074&amp;#34</a>;</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>category[a].coding[].display </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>string</dd><dt>Logic</dt><dd><ul><li>Hard coded to constant value.</li></ul></dd><dt>Constant Value</dt><dd><ul><li>"Laboratory"</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>category[a].text </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>string</dd><dt>Logic</dt><dd><ul><li>Hard coded to constant value.</li></ul></dd><dt>Constant Value</dt><dd><ul><li>"Laboratory"</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>category[ab] </summary><div><div><dl><dt>Cardinality</dt><dd>2..2</dd><dt>Type</dt><dd>CodeableConcept</dd><dt>Logic</dt><dd><ul><li>(a)Must have 1 LAB category</li><li>(b)Must have 1 other category</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>category[b] </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>CodeableConcept</dd><dt>Logic</dt><dd><ul><li>See child nodes for mapping</li><li>See child attributes for additional mapping logic.</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>category[b].coding[] </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>Coding</dd><dt>Logic</dt><dd><ul><li>See child nodes for mapping</li><li>See child attributes for additional mapping logic.</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>category[b].coding[].code </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>code</dd><dt>Inputs</dt><dd><ul><li>OBR-24</li></ul></dd><dt>Logic</dt><dd><ul><li>Use value OBR-24</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>category[b].coding[].system </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>uri</dd><dt>Logic</dt><dd><ul><li>Hard coded to constant value.</li></ul></dd><dt>Constant Value</dt><dd><ul><li>"<a href="http://terms.mayo.edu/codesystem/EPIC_ORDER_TYPE_CODE&amp;#34" target="_blank" rel="noopener noreferrer">http://terms.mayo.edu/codesystem/EPIC_ORDER_TYPE_CODE&amp;#34</a>;</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>category[b].coding[].display </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>string</dd><dt>Inputs</dt><dd><ul><li>OBR-24</li></ul></dd><dt>Concept Map</dt><dd><code>http://terms.mayo.edu/mccfhir/translate/epic.order.type.code.to.name</code></dd><dt>Logic</dt><dd><ul><li>If OBR-24 is blank, do not map.</li><li>Lookup code from OBR-24 in concept map, and set to target display</li><li>If the input does not have an entry in the Concept Map, execute the following action: Throw UnexpectedCodeException</li><li>If the input is blank Concept Map, execute the following action: NONE</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>category[b].text </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>string</dd><dt>Logic</dt><dd><ul><li>If OBR-24 is not blank, set to same value as <code>category[b].coding[].display</code></li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>code </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>CodeableConcept</dd><dt>Inputs</dt><dd><ul><li>OBR-4</li></ul></dd><dt>Logic</dt><dd><ul><li>See child nodes for mapping</li><li>See child attributes for additional mapping logic.</li></ul></dd><dt>Notes</dt><dd><ul><li>09-Dec-2021-12-09 Mapping coding from to LOINC omitted, because obtaining the map requires an enterprise-level request with wide-ranging impact across multiple systems</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>code.coding[] </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>Coding</dd><dt>Inputs</dt><dd><ul><li>OBR-4</li></ul></dd><dt>Logic</dt><dd><ul><li>If OBR-4 is empty throw Exception</li><li>If OBR-4.1, OBR-4.2, OBR-4.3, OBR-4.5, OBR-4.9 are all missing throw Exception</li><li>See child attributes for additional mapping logic.</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>code.coding[].code </summary><div><div><dl><dt>Cardinality</dt><dd>0..1</dd><dt>Type</dt><dd>code</dd><dt>Inputs</dt><dd><ul><li>OBR-4.1</li></ul></dd><dt>Logic</dt><dd><ul><li>Use OBR-4.1</li><li>Leave unpopulated if OBR-4.1 is blank</li></ul></dd></dl></div></div></details></td><td>Optional</td></tr><tr><td><details><summary>code.coding[].system </summary><div><div><dl><dt>Cardinality</dt><dd>0..1</dd><dt>Type</dt><dd>uri</dd><dt>Inputs</dt><dd><ul><li>OBR-4.3</li></ul></dd><dt>Logic</dt><dd><ul><li>If OBR 4.3 is blank do not set</li><li>Otherwise, set to "<a href="http://terms.mayo.edu/mccfhir/lab/system/&amp;#34" target="_blank" rel="noopener noreferrer">http://terms.mayo.edu/mccfhir/lab/system/&amp;#34</a>; + value of OBR 4.3. Example <a href="http://terms.mayo.edu/mccfhir/lab/system/CLEAP" target="_blank" rel="noopener noreferrer">http://terms.mayo.edu/mccfhir/lab/system/CLEAP</a></li></ul></dd></dl></div></div></details></td><td>Optional</td></tr><tr><td><details><summary>code.coding[].display </summary><div><div><dl><dt>Cardinality</dt><dd>0..1</dd><dt>Type</dt><dd>string</dd><dt>Inputs</dt><dd><ul><li>OBR-4.2, OBR-4.5, OBR-4.9</li></ul></dd><dt>Logic</dt><dd><ul><li>Use OBR-4.2</li><li>Use OBR-4.5 if OBR-4.2 is blank</li><li>Use OBR-4.9 if OBR-4.5 is blank</li><li>Leave unpopulated if OBR-4.9 is blank</li></ul></dd></dl></div></div></details></td><td>Optional</td></tr><tr><td><details><summary>code.text </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>string</dd><dt>Inputs</dt><dd><ul><li>OBR-4.2, OBR-4.5, OBR-4.9</li></ul></dd><dt>Logic</dt><dd><ul><li>Populate with the value of code.coding[].display</li><li>Leave unpopulated if code.coding[].display is not populated</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>effectiveDateTime </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>dateTime</dd><dt>Inputs</dt><dd><ul><li>SPM-17, OBR-7, MSH-7</li></ul></dd><dt>Logic</dt><dd><ul><li>Use SPM-17 if not blank and not all zeros</li><li>Use OBR-7 if SPM-17 is blank or all zeros</li><li>Use MSH-7 if OBR-7 is blank or all zeros</li><li>Throw error if an invalid datetime except for the zeros above</li><li>Format as mapped value as YYYY-MM-DDThh:mm:ss+zz:zz</li><li>Convert values to Central Time if necessary</li></ul></dd><dt>Notes</dt><dd><ul><li>HL7DateParser.getFormattedDate() handles errant datetime strings wiht an exception</li><li>HL7 DTM (datetime) format is <code>YYYY[MM[DD[HH[MM[SS[.S[S[S[S]]]]]]]]](+/-ZZZZ)</code></li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>encounter </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>Reference</dd><dt>Inputs</dt><dd><ul><li>PV1-19</li></ul></dd><dt>Logic</dt><dd><ul><li>See child nodes for mapping</li><li>Throw exception if PV1-19 is blank</li><li>See child attributes for additional mapping logic.</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>encounter.identifier </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>Identifier</dd><dt>Inputs</dt><dd><ul><li>PV1-19</li></ul></dd><dt>Logic</dt><dd><ul><li>Throw exception if PV1-19 is blank</li><li>See child attributes for additional mapping logic.</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>encounter.identifier.value </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>string</dd><dt>Inputs</dt><dd><ul><li>PV1-19</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>encounter.identifier.system </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>uri</dd><dt>Logic</dt><dd><ul><li>Hard coded to constant value.</li></ul></dd><dt>Constant Value</dt><dd><ul><li>"<a href="http://terms.mayo.edu/mccfhir/systemid/epic/csn&amp;#34" target="_blank" rel="noopener noreferrer">http://terms.mayo.edu/mccfhir/systemid/epic/csn&amp;#34</a>;</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>encounter.reference </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>string</dd><dt>Logic</dt><dd><ul><li>Not mapped. Set during reconciliation of the resource.</li></ul></dd><dt>Post Reconciliation Logic</dt><dd><ul><li>The literal reference is constructed as <code>Encounter/&amp;lt;resource id&amp;gt;</code> where the resource id<br>is determined by querying the FHIR store for the <code>encounter.identifier.value</code> and <code>encounter.identifier.system</code><br>value provided by the mapper.</li><li><code>encounter.identifier</code> is not removed during reconciliation.</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>encounter.type </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>uri</dd><dt>Logic</dt><dd><ul><li>Hard coded to constant value.</li></ul></dd><dt>Constant Value</dt><dd><ul><li>"Encounter"</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>id </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd><a href="http://hl7.org/fhirpath/System.String" target="_blank" rel="noopener noreferrer">http://hl7.org/fhirpath/System.String</a></dd><dt>Logic</dt><dd><ul><li>Assigned by server on post</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>identifier[] </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>Identifier</dd><dt>Logic</dt><dd><ul><li>See child nodes for mapping</li><li>See child attributes for additional mapping logic.</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>identifier[].system </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>uri</dd><dt>Logic</dt><dd><ul><li>Hard coded to constant value.</li></ul></dd><dt>Constant Value</dt><dd><ul><li>"<a href="http://terms.mayo.edu/mccfhir/systemid/epic/diagnosticreport_id&amp;#34" target="_blank" rel="noopener noreferrer">http://terms.mayo.edu/mccfhir/systemid/epic/diagnosticreport_id&amp;#34</a>;</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>identifier[].type </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>CodeableConcept</dd><dt>Logic</dt><dd><ul><li>See child nodes for mapping</li><li>See child attributes for additional mapping logic.</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>identifier[].type.coding[] </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>Coding</dd><dt>Logic</dt><dd><ul><li>See child nodes for mapping</li><li>See child attributes for additional mapping logic.</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>identifier[].type.coding[].code </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>code</dd><dt>Logic</dt><dd><ul><li>Hard coded to constant value.</li></ul></dd><dt>Constant Value</dt><dd><ul><li>"diagnosticReport"</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>identifier[].type.coding[].system </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>uri</dd><dt>Logic</dt><dd><ul><li>Hard coded to constant value.</li></ul></dd><dt>Constant Value</dt><dd><ul><li>"<a href="http://terms.mayo.edu/mccfhir/systemid/mcc/assigned_identifier&amp;#34" target="_blank" rel="noopener noreferrer">http://terms.mayo.edu/mccfhir/systemid/mcc/assigned_identifier&amp;#34</a>;</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>identifier[].type.coding[].display </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>string</dd><dt>Logic</dt><dd><ul><li>Hard coded to constant value.</li></ul></dd><dt>Constant Value</dt><dd><ul><li>"DiagnosticReport"</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>identifier[].type.text </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>string</dd><dt>Logic</dt><dd><ul><li>Hard coded to constant value.</li></ul></dd><dt>Constant Value</dt><dd><ul><li>"DiagnosticReport"</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>identifier[].use </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>code</dd><dt>Logic</dt><dd><ul><li>Hard coded to constant value.</li></ul></dd><dt>Constant Value</dt><dd><ul><li>"usual"</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>identifier[].value </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>string</dd><dt>Inputs</dt><dd><ul><li>OBR-2</li></ul></dd><dt>Logic</dt><dd><ul><li>Throw exception if blank</li></ul></dd><dt>Notes</dt><dd><ul><li>Placer order number</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>issued </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>instant</dd><dt>Inputs</dt><dd><ul><li>OBR-22, MSH-7</li></ul></dd><dt>Logic</dt><dd><ul><li>Use OBR-22 if not blank</li><li>Use MSH-7 if OBR-22 is blank</li><li>Throw an exception if MSH-7 is blank or not a valid timestamp</li><li>Format as mapped value as YYYY-MM-DDThh:mm:ss+zz:zz</li><li>Convert OBR-22/MSH-7 values to Central Time if necessary</li></ul></dd><dt>Notes</dt><dd><ul><li>Time of verification (if present), otherwise last_update timestamp</li><li>HL7DateParser.getFormattedDate() handles errant datetime strings with an exception</li><li>HL7 DTM (datetime) format is <code>YYYY[MM[DD[HH[MM[SS[.S[S[S[S]]]]]]]]](+/-ZZZZ)</code></li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>meta </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>Meta</dd><dt>Logic</dt><dd><ul><li>See child nodes for mapping</li><li>See child attributes for additional mapping logic.</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>meta.lastUpdated </summary><div><div><dl><dt>Cardinality</dt><dd>0..1</dd><dt>Type</dt><dd>instant</dd><dt>Logic</dt><dd><ul><li>Assigned by server</li></ul></dd></dl></div></div></details></td><td>Optional</td></tr><tr><td><details><summary>meta.source </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>uri</dd><dt>Logic</dt><dd><ul><li>Hard coded to constant value.</li></ul></dd><dt>Constant Value</dt><dd><ul><li>"<a href="http://terms.mayo.edu/mccfhir/systemid/mcc/datasource/epic&amp;#34" target="_blank" rel="noopener noreferrer">http://terms.mayo.edu/mccfhir/systemid/mcc/datasource/epic&amp;#34</a>;</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>meta.tag[] </summary><div><div><dl><dt>Cardinality</dt><dd>0..2</dd><dt>Type</dt><dd>Coding</dd><dt>Logic</dt><dd><ul><li>See child nodes for mapping.</li></ul></dd></dl></div></div></details></td><td>Optional</td></tr><tr><td><details><summary>meta.tag[a] </summary><div><div><dl><dt>Cardinality</dt><dd>0..1</dd><dt>Type</dt><dd>Coding</dd><dt>Logic</dt><dd><ul><li>See child nodes for mapping.</li><li>See child attributes for additional mapping logic.</li></ul></dd></dl></div></div></details></td><td>Optional</td></tr><tr><td><details><summary>meta.tag[a].code </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>code</dd><dt>Inputs</dt><dd><ul><li>MSH-7</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>meta.tag[a].system </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>uri</dd><dt>Logic</dt><dd><ul><li>Hard coded to constant value.</li></ul></dd><dt>Constant Value</dt><dd><ul><li>"<a href="http://terms.mayo.edu/mccfhir/hl7v2-timestamp&amp;#34" target="_blank" rel="noopener noreferrer">http://terms.mayo.edu/mccfhir/hl7v2-timestamp&amp;#34</a>;</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>meta.tag[b] </summary><div><div><dl><dt>Cardinality</dt><dd>0..1</dd><dt>Type</dt><dd>Coding</dd><dt>Logic</dt><dd><ul><li>See child nodes for mapping.</li><li>See child attributes for additional mapping logic.</li></ul></dd></dl></div></div></details></td><td>Optional</td></tr><tr><td><details><summary>meta.tag[b].code </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>code</dd><dt>Inputs</dt><dd><ul><li>MSH-10</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>meta.tag[b].system </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>uri</dd><dt>Logic</dt><dd><ul><li>Hard coded to constant value.</li></ul></dd><dt>Constant Value</dt><dd><ul><li>"<a href="http://terms.mayo.edu/mccfhir/hl7v2-control-id&amp;#34" target="_blank" rel="noopener noreferrer">http://terms.mayo.edu/mccfhir/hl7v2-control-id&amp;#34</a>;</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>meta.versionId </summary><div><div><dl><dt>Cardinality</dt><dd>0..1</dd><dt>Type</dt><dd>id</dd><dt>Logic</dt><dd><ul><li>Assigned by server</li></ul></dd></dl></div></div></details></td><td>Optional</td></tr><tr><td><details><summary>presentedForm[] </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>Attachment</dd><dt>Logic</dt><dd><ul><li>Not mapped</li><li>See child attributes for additional mapping logic.</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>presentedForm[].data </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>base64Binary</dd><dt>Logic</dt><dd><ul><li>The report includes the following information as available:<br>-- Code, category<br>-- Subject's MRN, last name, first name<br>-- Effective datetime of the report<br>-- Status<br>-- Issued datetime<br>-- For each observation: test name, value, interprestation, reference range, effective datetime of the observation</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>presentedForm[].contentType </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>code</dd><dt>Logic</dt><dd><ul><li>Hard coded to constant value.</li></ul></dd><dt>Constant Value</dt><dd><ul><li>"text/plain"</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>presentedForm[].title </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>string</dd><dt>Logic</dt><dd><ul><li>Hard coded to constant value.</li></ul></dd><dt>Constant Value</dt><dd><ul><li>"Laboratory Report"</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>result[] </summary><div><div><dl><dt>Cardinality</dt><dd>0..*</dd><dt>Type</dt><dd>Reference</dd><dt>Inputs</dt><dd><ul><li>OBXs</li></ul></dd><dt>Logic</dt><dd><ul><li>See child nodes for mapping</li><li>There will be one result[] for each OBX segment.</li><li>See child attributes for additional mapping logic.</li></ul></dd></dl></div></div></details></td><td>Optional</td></tr><tr><td><details><summary>result[].reference </summary><div><div><dl><dt>Cardinality</dt><dd>0..1</dd><dt>Type</dt><dd>string</dd><dt>Logic</dt><dd><ul><li>No logic in mapping stage; see Reconcile</li></ul></dd><dt>Post Reconciliation Logic</dt><dd><ul><li>Add literal reference to each Observation ID, e.g., <code>Observation/&amp;lt;actual obs id&amp;gt;</code></li></ul></dd></dl></div></div></details></td><td>Optional</td></tr><tr><td><details><summary>result[].type </summary><div><div><dl><dt>Cardinality</dt><dd>0..1</dd><dt>Type</dt><dd>uri</dd><dt>Logic</dt><dd><ul><li>Hard coded to constant value.</li></ul></dd><dt>Constant Value</dt><dd><ul><li>"Observation"</li></ul></dd></dl></div></div></details></td><td>Optional</td></tr><tr><td><details><summary>specimen[] </summary><div><div><dl><dt>Cardinality</dt><dd>0..1</dd><dt>Type</dt><dd>Reference</dd><dt>Logic</dt><dd><ul><li>See child nodes for mapping</li><li>See child attributes for additional mapping logic.</li></ul></dd></dl></div></div></details></td><td>Optional</td></tr><tr><td><details><summary>specimen[].display </summary><div><div><dl><dt>Cardinality</dt><dd>0..1</dd><dt>Type</dt><dd>string</dd><dt>Inputs</dt><dd><ul><li>SPM-4.9 or SPM-8.9</li></ul></dd><dt>Logic</dt><dd><ul><li>Use SPM-4.9 if not blank</li><li>Else, use SPM- 8.9 if not blank</li><li>Else, leave unpopulated</li></ul></dd></dl></div></div></details></td><td>Optional</td></tr><tr><td><details><summary>specimen[].type </summary><div><div><dl><dt>Cardinality</dt><dd>0..1</dd><dt>Type</dt><dd>uri</dd><dt>Inputs</dt><dd><ul><li>SPM-4.9, SPM-8.9</li></ul></dd><dt>Logic</dt><dd><ul><li>Leave blank if SPM-4.9 and SPM-8.9 are both blank, otherwise set to "Specimen"</li></ul></dd></dl></div></div></details></td><td>Optional</td></tr><tr><td><details><summary>status </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>code</dd><dt>Inputs</dt><dd><ul><li>OBR-25</li></ul></dd><dt>Concept Map</dt><dd><code>mc.epic.out.res.ord.obr.res.status.has.fhir.diag.rpt.status</code></dd><dt>Logic</dt><dd><ul><li>If OBR-25 is blank, set to REGISTERED</li><li>If OBR-25 is X, set to CANCELLED</li><li>For all other OBR-25, lookup code in concept map; throw an exception if OBR-25 is not found in the concept map</li><li>If the input does not have an entry in the Concept Map, execute the following action: VARIES</li></ul></dd><dt>Notes</dt><dd><ul><li>Internal: 2022-03-15 Clarity: use table ZC_LAB_STATUS</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>subject </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>Reference</dd><dt>Inputs</dt><dd><ul><li>PID-3.1</li></ul></dd><dt>Logic</dt><dd><ul><li>See child nodes for mapping</li><li>Throw exception if PID-3.1 is blank</li><li>See child attributes for additional mapping logic.</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>subject.identifier </summary><div><div><dl><dt>Cardinality</dt><dd>0..1</dd><dt>Type</dt><dd>Identifier</dd><dt>Logic</dt><dd><ul><li>See child nodes for mapping</li><li>See child attributes for additional mapping logic.</li></ul></dd><dt>Post Reconciliation Logic</dt><dd><ul><li>Removed during reconciliation.</li></ul></dd></dl></div></div></details></td><td>Optional</td></tr><tr><td><details><summary>subject.identifier.value </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>string</dd><dt>Inputs</dt><dd><ul><li>PID-3.1</li></ul></dd><dt>Logic</dt><dd><ul><li>Populate with PID-3.1</li><li>Throw exception if PID-3.1 is blank</li></ul></dd><dt>Post Reconciliation Logic</dt><dd><ul><li>Removed at time of reconcile in favor of <code>subject.reference</code>.</li><li>Supported internally (for initial mapping / ingestion only).</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>subject.identifier.system </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>uri</dd><dt>Logic</dt><dd><ul><li>Hard coded to constant value.</li></ul></dd><dt>Constant Value</dt><dd><ul><li>"<a href="http://terms.mayo.edu/mccfhir/systemid/epic/mayo_clinic_number&amp;#34" target="_blank" rel="noopener noreferrer">http://terms.mayo.edu/mccfhir/systemid/epic/mayo_clinic_number&amp;#34</a>;</li></ul></dd><dt>Post Reconciliation Logic</dt><dd><ul><li>Removed at time of reconcile in favor of <code>subject.reference</code>.</li><li>Supported internally (for initial mapping / ingestion only).</li></ul></dd></dl></div></div></details></td><td>Required</td></tr><tr><td><details><summary>subject.reference </summary><div><div><dl><dt>Cardinality</dt><dd>1..1</dd><dt>Type</dt><dd>string</dd><dt>Post Reconciliation Logic</dt><dd><ul><li>The subject.identifier.value and subject.identifier.system are used to identify the matching FHIR Patient resource.</li><li>The resolved Patient/&amp;lt;FHIR ID&amp;gt; are placed into the subject.reference value and the subject.identifer attribute is removed.</li></ul></dd><dt>Notes</dt><dd><ul><li>BigQuery column: <code>subject.patientId</code></li></ul></dd></dl></div></div></details></td><td>Required</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="unsupported-attributes">Unsupported Attributes<a href="#unsupported-attributes" class="hash-link" aria-label="Direct link to Unsupported Attributes" title="Direct link to Unsupported Attributes">​</a></h2>
<table><thead><tr><th>Attribute</th><th>Cardinality</th></tr></thead><tbody><tr><td><details><summary>basedOn[].reference </summary><div><div><dl><dt>Cardinality</dt><dd>0..0</dd><dt>Type</dt><dd>string</dd><dt>Logic</dt><dd><ul><li>Not mapped</li></ul></dd></dl></div></div></details></td><td>Not Supported</td></tr><tr><td><details><summary>conclusion </summary><div><div><dl><dt>Cardinality</dt><dd>0..0</dd><dt>Type</dt><dd>string</dd><dt>Logic</dt><dd><ul><li>Not mapped</li></ul></dd></dl></div></div></details></td><td>Not Supported</td></tr><tr><td><details><summary>conclusionCode[] </summary><div><div><dl><dt>Cardinality</dt><dd>0..0</dd><dt>Type</dt><dd>CodeableConcept</dd><dt>Logic</dt><dd><ul><li>Not mapped</li></ul></dd></dl></div></div></details></td><td>Not Supported</td></tr><tr><td><details><summary>contained[] </summary><div><div><dl><dt>Cardinality</dt><dd>0..0</dd><dt>Type</dt><dd>Resource</dd><dt>Logic</dt><dd><ul><li>Not mapped</li></ul></dd></dl></div></div></details></td><td>Not Supported</td></tr><tr><td><details><summary>extension[] </summary><div><div><dl><dt>Cardinality</dt><dd>0..0</dd><dt>Type</dt><dd>Extension</dd><dt>Logic</dt><dd><ul><li>Not mapped</li></ul></dd></dl></div></div></details></td><td>Not Supported</td></tr><tr><td><details><summary>imagingStudy[] </summary><div><div><dl><dt>Cardinality</dt><dd>0..0</dd><dt>Type</dt><dd>Reference</dd><dt>Logic</dt><dd><ul><li>Not mapped</li></ul></dd></dl></div></div></details></td><td>Not Supported</td></tr><tr><td><details><summary>implicitRules </summary><div><div><dl><dt>Cardinality</dt><dd>0..0</dd><dt>Type</dt><dd>uri</dd><dt>Logic</dt><dd><ul><li>Not mapped</li></ul></dd></dl></div></div></details></td><td>Not Supported</td></tr><tr><td><details><summary>language </summary><div><div><dl><dt>Cardinality</dt><dd>0..0</dd><dt>Type</dt><dd>code</dd><dt>Logic</dt><dd><ul><li>Not mapped</li></ul></dd></dl></div></div></details></td><td>Not Supported</td></tr><tr><td><details><summary>media[] </summary><div><div><dl><dt>Cardinality</dt><dd>0..0</dd><dt>Type</dt><dd>BackboneElement</dd><dt>Logic</dt><dd><ul><li>Not mapped</li></ul></dd></dl></div></div></details></td><td>Not Supported</td></tr><tr><td><details><summary>performer[] </summary><div><div><dl><dt>Cardinality</dt><dd>0..0</dd><dt>Type</dt><dd>Reference</dd><dt>Logic</dt><dd><ul><li>Not mapped</li></ul></dd></dl></div></div></details></td><td>Not Supported</td></tr><tr><td><details><summary>resultsInterpreter[] </summary><div><div><dl><dt>Cardinality</dt><dd>0..0</dd><dt>Type</dt><dd>Reference</dd><dt>Logic</dt><dd><ul><li>Not mapped</li></ul></dd></dl></div></div></details></td><td>Not Supported</td></tr><tr><td><details><summary>text </summary><div><div><dl><dt>Cardinality</dt><dd>0..0</dd><dt>Type</dt><dd>Narrative</dd><dt>Logic</dt><dd><ul><li>Not mapped.</li></ul></dd></dl></div></div></details></td><td>Not Supported</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="known-issues">Known Issues<a href="#known-issues" class="hash-link" aria-label="Direct link to Known Issues" title="Direct link to Known Issues">​</a></h2>
<p>None</p></div></article>